<!DOCTYPE html>
<html lang="cs">
<head>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <link rel="icon" type="image/png" href="favicon.png"> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cen√≠k ‚Äì MLX Media</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="ChatBot.css">
    <style>
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9f9f9;
            color: #00334e;
            line-height: 1.6;
            overflow-x: hidden;
        }
        .video-banner {
            width: 100%;
            height: 50vh;
            overflow: hidden;
            position: relative;
            z-index: 1;
        }
        .video-banner video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .video-banner::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 180px;
            background: linear-gradient(to bottom, transparent 0%, rgba(249,249,249,0.3) 50%, #f9f9f9 100%);
            pointer-events: none;
            z-index: 3;
        }
        .video-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            z-index: 2;
        }
        nav {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            justify-content: center;
            padding: 12px 20px;
            background: linear-gradient(120deg, rgba(0,191,166,0.9), rgba(255,165,0,0.9));
            backdrop-filter: blur(5px);
            border-bottom: 2px solid rgba(255,255,255,0.2);
            transition: box-shadow 0.3s ease;
            box-sizing: border-box;
        }
        nav.scrolled {
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        nav a {
            padding: 8px 14px;
            color: white;
            border-radius: 20px;
            text-decoration: none;
            font-weight: 500;
            font-size: 1em;
            transition: background 0.3s ease, transform 0.2s ease;
        }
        nav a:hover {
            background: white;
            color: #00BFA6;
            transform: translateY(-2px);
        }
        main {
            max-width: 1100px;
            margin: 40px auto;
            padding: 0 20px;
            animation: fadeUp 1s ease-in-out;
        }
        .intro-text {
            text-align: center;
            max-width: 900px;
            margin: 0 auto 50px auto;
            font-size: 1.4em;
            font-weight: 300;
            color: #00334e;
            line-height: 1.8;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 16px rgba(0,0,0,0.05);
        }
        thead {
            background: linear-gradient(120deg, #00BFA6, orange);
            color: white;
        }
        thead th {
            padding: 15px;
            font-size: 1.1em;
            text-align: left;
        }
        tbody tr {
            background: white;
            transition: background 0.3s ease;
        }
        tbody tr:nth-child(even) {
            background: #f7f7f7;
        }
        tbody tr:hover {
            background: #e6f9f6;
        }
        td {
            padding: 14px;
            font-size: 1em;
        }
        .price {
            font-weight: bold;
            color: orange;
            font-size: 1.1em;
        }
        .note {
            margin-top: 25px;
            padding: 15px;
            background: #fff7e6;
            border-left: 5px solid orange;
            border-radius: 8px;
            font-size: 1em;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        footer {
            text-align: center;
            padding: 40px 20px 30px 20px;
            font-size: 1.08em;
            color: #00334e;
            background: #f1f1f1;
            margin-top: 60px;
            border-top: 2px solid #e0e0e0;
            box-shadow: 0 -2px 12px rgba(0,191,166,0.07);
        }
        .footer-content {
            max-width: 600px;
            margin: 0 auto;
        }
        .footer-link {
            display: inline-block;
            margin: 12px 0 22px 0;
            color: #00BFA6;
            font-weight: 600;
            font-size: 1.08em;
            text-decoration: none;
            transition: color 0.3s;
        }
        .footer-link i {
            margin-right: 7px;
            color: orange;
            transition: color 0.3s, transform 0.3s;
        }
        .footer-link:hover {
            color: orange;
        }
        .footer-link:hover i,
        .order-btn:hover i,
        .youtube-btn:hover i {
            animation: icon-spin 0.6s ease;
        }
        .footer-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 18px;
            justify-content: center;
            margin-top: 10px;
        }
        .order-btn, .youtube-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 14px 32px;
            font-size: 1.13em;
            font-weight: 600;
            border: none;
            border-radius: 30px;
            text-decoration: none;
            box-shadow: 0 2px 8px rgba(0,191,166,0.13), 0 1.5px 8px rgba(0,0,0,0.08);
            transition: background 0.3s, transform 0.2s;
            text-align: center;
        }
        .order-btn {
            background: linear-gradient(120deg, #00BFA6, orange);
            color: white;
        }
        .order-btn:hover {
            background: linear-gradient(120deg, orange, #00BFA6);
            color: #fff;
            transform: translateY(-2px) scale(1.04);
            box-shadow: 0 6px 18px rgba(0,191,166,0.18);
        }
        .youtube-btn {
            background: linear-gradient(120deg, #ff0000, #ff9900);
            color: white;
        }
        .youtube-btn:hover {
            background: linear-gradient(120deg, #ff9900, #ff0000);
            color: #fff;
            transform: translateY(-2px) scale(1.04);
            box-shadow: 0 6px 18px rgba(255,0,0,0.18);
        }
        .youtube-btn i, .order-btn i {
            margin-right: 7px;
        }
        @keyframes fadeIn {
            from {opacity: 0;}
            to {opacity: 1;}
        }
        @keyframes slideDown {
            from {transform: translateY(-30px); opacity: 0;}
            to {transform: translateY(0); opacity: 1;}
        }
        @keyframes fadeUp {
            from {transform: translateY(20px); opacity: 0;}
            to {transform: translateY(0); opacity: 1;}
        }
        @keyframes icon-spin {
            100% { transform: rotate(360deg); }
        }
        .scroll-animate {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .scroll-animate.visible {
            opacity: 1;
            transform: translateY(0);
        }
        html, body {
            max-width: 100%;
            overflow-x: hidden;
        }
        @media (max-width: 768px) {
            nav a {
                font-size: 0.9em;
                padding: 6px 10px;
            }
            .slider-wrapper {
                max-width: 100%;
            }
            .slider {
                aspect-ratio: 16 / 9;
            }
        }
        @media (max-width: 480px) {
            nav a {
                font-size: 0.85em;
                padding: 5px 8px;
            }
        }
        .calendar-container {
            margin-top: 25px;
            padding: 20px;
            border-radius: 15px;
            background: #ffffff;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
            position: relative;
            overflow: visible;
        }
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .calendar-header h3 {
            margin: 0;
            font-size: 1.3em;
            color: #00334e;
        }
        .calendar-header button {
            background: linear-gradient(120deg, #00BFA6, orange);
            border: none;
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: transform 0.3s;
        }
        .calendar-header button:hover {
            transform: translateY(-2px);
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }
        .calendar-day {
            position: relative;
            padding: 12px;
            text-align: center;
            border-radius: 8px;
            background: #f3f9f9;
            cursor: pointer;
            transition: background 0.2s;
        }
        .calendar-day:hover {
            background: #00bfa61a;
        }
        .calendar-day.booked {
            background: #ffeded;
            color: #d60000;
            cursor: not-allowed;
            text-decoration: line-through;
        }
        .calendar-day.today {
            background: #00BFA6;
            color: white;
            font-weight: bold;
        }
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            position: absolute;
            bottom: 6px;
            right: 6px;
            cursor: default;
        }
        .status-dot::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 125%;
            right: 50%;
            transform: translateX(50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            white-space: nowrap;
            font-size: 0.8em;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.25s ease;
            z-index: 9999;
        }
        .status-dot:hover::after {
            opacity: 1;
        }
        .dot-yellow { background: gold; }
        .dot-blue { background: #007bff; }
        .dot-green { background: #00c853; }
        .calendar-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 12px;
            font-size: 0.95em;
            color: #333;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .legend-yellow { background: gold; }
        .legend-blue { background: #007bff; }
        .legend-green { background: #00c853; }
        .timeline { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); 
            gap: 20px; 
            margin-top: 25px; 
        }
        .timeline-step { 
            background: white; 
            padding: 20px; 
            border-radius: 12px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.08); 
            text-align: center; 
        }
        .timeline-step span { font-size: 1.6em; display: block; margin-bottom: 8px; }
        .timeline-step h3 { margin: 10px 0 8px 0; color: #00334e; }
        .timeline-step p { margin: 6px 0; font-size: 0.95em; }
        .faq-section { max-width: 800px; margin: 50px auto; }
        .faq-item { margin-bottom: 12px; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.07); }
        .faq-question {
            width: 100%; padding: 14px; font-size: 1.1em; text-align: left;
            background: #00BFA6; color: white; border: none; cursor: pointer; outline: none;
        }
        .faq-answer { max-height: 0; overflow: hidden; background: #f9f9f9; transition: max-height 0.3s ease; padding: 0 14px; }
        .faq-item.active .faq-answer { max-height: 200px; padding: 14px; }
        .timeline-section { text-align: center; margin: 60px auto; }
        .why-me-section { max-width: 800px; margin: 50px auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        .why-me-section ul { list-style: none; padding: 0; }
        .why-me-section li::before { content: "‚úîÔ∏è "; margin-right: 6px; color: #00BFA6; }
        #pro-calculator-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }
        .toggle-btn {
            padding: 12px 20px;
            border-radius: 30px;
            border: none;
            background: linear-gradient(120deg, #00BFA6, orange);
            color: #fff;
            font-weight: 700;
            cursor: pointer;
            display: block;
            margin: 0 auto 20px;
            font-size: 1.1em;
            transition: transform 0.3s ease;
        }
        .toggle-btn:hover {
            transform: scale(1.05);
        }
        #pro-calculator {
            border: none;
            padding: 20px;
            border-radius: 15px;
            background: #fff;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        #pro-calculator h2 {
            text-align: center;
            color: #00334e;
            margin-bottom: 10px;
        }
        #pro-calculator .warning {
            text-align: center;
            font-weight: bold;
            color: #ff0000;
            font-size: 1em;
            margin-bottom: 20px;
        }
        #pro-calculator p {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
        }
        .calc-modes {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }
        .mode-btn {
            padding: 10px 20px;
            border-radius: 30px;
            border: 1px solid #ddd;
            background: #f9f9f9;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
            color: #00334e;
            font-weight: 600;
        }
        .mode-btn.active {
            background: linear-gradient(120deg, #00BFA6, orange);
            color: #fff;
            border: none;
            transform: scale(1.05);
        }
        .mode-btn:hover {
            transform: scale(1.05);
        }
        .mode-btn i {
            margin-right: 5px;
        }
        .calc-form {
            display: none;
            animation: fadeInCalc 0.5s ease;
        }
        .calc-form.active {
            display: block;
        }
        .calc-group {
            margin-bottom: 15px;
            background: #f9f9f9;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }
        .calc-group:hover {
            transform: translateY(-2px);
        }
        .calc-group label {
            display: block;
            font-weight: 600;
            color: #00334e;
            margin-bottom: 5px;
        }
        .calc-group label i {
            margin-right: 8px;
            color: orange;
        }
        .calc-group input[type=number],
        .calc-group select,
        .calc-group textarea {
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ddd;
            width: 100%;
            box-sizing: border-box;
            font-size: 1em;
        }
        .calc-group input[type=checkbox] {
            margin-right: 8px;
        }
        .calc-group .note {
            font-size: 0.85em;
            color: #666;
            margin-top: 5px;
        }
        .calc-result {
            margin-top: 20px;
            animation: fadeInCalc 0.5s ease;
        }
        #receipt {
            padding: 20px;
            border-radius: 15px;
            background: linear-gradient(120deg, #00BFA6, orange);
            color: #fff;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        #receipt h3 {
            margin: 0 0 10px 0;
            font-size: 1.5em;
        }
        #receipt ul {
            list-style: none;
            padding: 0;
            margin: 0 0 15px 0;
            font-size: 0.95em;
            text-align: left;
        }
        #receipt ul li {
            margin-bottom: 5px;
            padding: 5px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
        }
        #receipt .note {
            font-size: 0.9em;
            margin-bottom: 15px;
        }
        #receipt .order-btn {
            padding: 12px 25px;
            border-radius: 30px;
            background: #fff;
            color: #00BFA6;
            text-decoration: none;
            font-weight: 700;
            transition: background 0.3s ease, color 0.3s ease;
        }
        #receipt .order-btn:hover {
            background: #00334e;
            color: #fff;
        }
        @keyframes fadeInCalc {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes mapFadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
}
@keyframes pulse {
    0% { transform: scale(1); opacity: 0.3; }
    50% { transform: scale(1.05); opacity: 0.5; }
    100% { transform: scale(1); opacity: 0.3; }
}
#map {
    height: 400px;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.05);
    animation: mapFadeIn 1s ease-out;
}
.leaflet-popup-content-wrapper {
    background: linear-gradient(120deg, #00BFA6, orange);
    color: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}
.leaflet-popup-content {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 1em;
    padding: 10px;
}
.leaflet-popup-tip {
    background: #00BFA6;
}
.leaflet-circle:hover {
    fillOpacity: 0.5;
    animation: pulse 1.5s infinite;
}
@media (max-width: 768px) {
    #map {
        height: 300px;
    }
}

.divider-container {
    text-align: center;
    margin: 50px 0;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}
.divider-container.visible {
    opacity: 1;
    transform: translateY(0);
}
.divider-line {
    height: 4px;
    background: linear-gradient(120deg, #00BFA6, orange);
    border-radius: 2px;
    width: 100%;
    position: absolute;
    top: 50%;
    left: 0;
    transform: translateY(-50%);
    z-index: 0;
}
.divider-text {
    display: inline-block;
    background: #fff;
    padding: 12px 24px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    color: #00334e;
    font-weight: 600;
    font-size: 1.2em;
    position: relative;
    z-index: 1;
}
.divider-text i {
    color: orange;
    margin-right: 8px;
}
.divider-text .arrow-down {
    margin-left: 8px;
    color: #00BFA6;
}
    </style>
</head>
<body>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add("visible");
                    } else {
                        entry.target.classList.remove("visible");
                    }
                });
            }, { threshold: 0.2 });
            document.querySelectorAll(".scroll-animate").forEach(el => observer.observe(el));
            const video = document.getElementById('product-video');
            let played = false;
            const videoObserver = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !played) {
                        video.play();
                        played = true;
                    }
                });
            }, { threshold: 0.6 });
            videoObserver.observe(document.getElementById('animation-section'));
        });
    </script>
    <nav id="mainNav">
        <a href="index.html">Domovsk√° str√°nka</a>
        <a href="portfolio.html">Portfolio</a>
        <a href="technika.html">Technika</a>
        <a href="praicing.html">Cen√≠k</a>
        <a href="order.html">Objedn√°vka</a>
    </nav>
    <section class="video-banner" id="animation-section">
        <video id="product-video" muted playsinline preload="auto">
            <source src="Cen√≠k web video.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <div class="video-overlay">
        </div>
    </section>
    <main>
        <section class="intro-text scroll-animate">
            <p>Startovn√≠ ‚Äì p≈ô√°telsk√Ω rozpoƒçet pro v≈°echny, kdo hledaj√≠ kvalitn√≠ video i f√©rov√Ω p≈ô√≠stup.</p>
        </section>
        <table>
            <thead>
                <tr>
                    <th>Slu≈æba</th>
                    <th>Popis</th>
                    <th>Cena (orientaƒçnƒõ)</th>
                </tr>
            </thead>
            <tbody class="scroll-animate">
                <tr>
                    <td>üé• Nat√°ƒçen√≠ (p≈Ølden / do 4 hod)</td>
                    <td>Z√°kladn√≠ z√°bƒõry, 1‚Äì2 lokace, vlastn√≠ technika</td>
                    <td class="price">od 2 000 Kƒç</td>
                </tr>
                <tr>
                    <td>‚úÇÔ∏è St≈ôih videa (z vlastn√≠ch z√°bƒõr≈Ø, do 2 min)</td>
                    <td>Hudba, z√°kladn√≠ barvy, titulky</td>
                    <td class="price">od 1 500 Kƒç</td>
                </tr>
                <tr>
                    <td>üéûÔ∏è Kompletn√≠ video</td>
                    <td>Nat√°ƒçen√≠ + st≈ôih (do 3 min)</td>
                    <td class="price">od 3 500 Kƒç</td>
                </tr>
                <tr>
                    <td>üì¶ Bal√≠ƒçek: promo pro firmu</td>
                    <td>1 nat√°ƒçec√≠ den, st≈ôih, logo, hudba, export do v√≠ce form√°t≈Ø</td>
                    <td class="price">od 6 000 Kƒç</td>
                </tr>
                <tr>
                    <td>üì± Vertik√°ln√≠ video na s√≠tƒõ</td>
                    <td>Do 1 minuty, rychl√Ω st≈ôih, trendy styl (TikTok / Reels)</td>
                    <td class="price">od 1 800 Kƒç</td>
                </tr>
                <tr>
                    <td>üéì Individu√°ln√≠ nab√≠dka</td>
                    <td>R√°d vytvo≈ô√≠m bal√≠ƒçek na m√≠ru</td>
                    <td class="price">Cena dohodou</td>
                </tr>
                <tr>
                    <td>üöó Cestovn√©</td>
                    <td>Dle vzd√°lenosti (poƒç√≠t√°no od m√≠sta bydli≈°tƒõ)</td>
                    <td class="price">Cena Individu√°ln√≠</td>
                </tr>
            </tbody>
        </table>
        <div class="note">
            üìù V≈°echny ceny jsou orientaƒçn√≠ a z√°vis√≠ na n√°roƒçnosti projektu a ƒçasov√Ωch mo≈ænostech.<br>
            üíº Cen√≠m si f√©rov√© spolupr√°ce ‚Äì kdy≈æ klient pom≈Ø≈æe mnƒõ, pom≈Ø≈æu j√° jemu.
        </div>
        <div class="calendar-section scroll-animate">
            <h2>üìÖ Dostupnost</h2>
            <p class="note">Omlouv√°m se, m≈Øj program je moment√°lnƒõ dost nabit√Ω. Pod√≠vejte se na voln√© term√≠ny n√≠≈æe:</p>
            <div class="calendar-container">
                <div id="calendar"></div>
            </div>
            <div class="calendar-legend">
                <div class="legend-item"><span class="legend-dot legend-yellow"></span> ‚ùå Pevnƒõ obsazeno</div>
                <div class="legend-item"><span class="legend-dot legend-blue"></span> ‚ö†Ô∏è Jen pro d≈Øle≈æit√© projekty</div>
                <div class="legend-item"><span class="legend-dot legend-green"></span> ‚ÑπÔ∏è Jen pro d≈Øle≈æitƒõj≈°√≠ projekt ‚Äì slo≈æitƒõj≈°√≠</div>
            </div>
        </div>
        <section id="service-area" class="scroll-animate">
    <h2><i class="fas fa-map-marker-alt"></i> Oblast p≈Øsobnosti</h2>
    <p class="note">Preferuji projekty v tƒõchto oblastech: Beroun, Praha 5 a Praha 6. Mapa ukazuje ide√°ln√≠ dosah (kruhy o polomƒõru 5 km). Pro projekty mimo tyto oblasti nebo na m√Ωstech kde je obt√≠≈æn√© se dostat doporuƒçujeme se sn√°mi domluvit ‚Äì cena cestovn√©ho je velice individu√°ln√≠ po kolik vƒõc√≠ pot≈ôebujete jak dalek atd.</p>
    <div id="map"></div>
</section>
<div class="divider-container scroll-animate">
    <div class="divider-text"><i class="fas fa-calculator"></i> Vypoƒç√≠tejte si cenu projektu <i class="fas fa-arrow-down arrow-down"></i></div>
    <div class="divider-line"></div>
</div>

        <script>
            async function loadDates() {
                const res = await fetch("dates.json");
                return await res.json();
            }
            async function generateCalendar(month, year) {
                const data = await loadDates();
                const calendar = document.getElementById("calendar");
                calendar.innerHTML = "";
                const header = document.createElement("div");
                header.className = "calendar-header";
                const monthNames = ["January","February","March","April","May","June","July","August","September","October","November","December"];
                const title = document.createElement("h3");
                title.textContent = `${monthNames[month]} ${year}`;
                const prevBtn = document.createElement("button");
                prevBtn.textContent = "‚Üê";
                prevBtn.onclick = () => generateCalendar(month === 0 ? 11 : month-1, month === 0 ? year-1 : year);
                const nextBtn = document.createElement("button");
                nextBtn.textContent = "‚Üí";
                nextBtn.onclick = () => generateCalendar(month === 11 ? 0 : month+1, month === 11 ? year+1 : year);
                header.appendChild(prevBtn);
                header.appendChild(title);
                header.appendChild(nextBtn);
                calendar.appendChild(header);
                const grid = document.createElement("div");
                grid.className = "calendar-grid";
                const daysInMonth = new Date(year, month+1, 0).getDate();
                const today = new Date();
                function addDot(cell, color, message) {
                    let dot = document.createElement("div");
                    dot.className = `status-dot dot-${color}`;
                    dot.setAttribute("data-tooltip", message);
                    cell.appendChild(dot);
                }
                for (let i=1; i<=daysInMonth; i++) {
                    const date = new Date(year, month, i);
                    const isoDate = date.toISOString().split("T")[0];
                    const cell = document.createElement("div");
                    cell.className = "calendar-day";
                    cell.textContent = i;
                    if (date.toDateString() === today.toDateString()) {
                        cell.classList.add("today");
                    }
                    if (data.yellow.includes(isoDate)) {
                        cell.classList.add("booked");
                        addDot(cell, "yellow", "‚ùå Pevnƒõ obsazeno ‚Äì ≈æ√°dn√° mo≈ænost zmƒõny.");
                    }
                    if (data.blue.includes(isoDate)) {
                        cell.classList.add("booked");
                        addDot(cell, "blue", "‚ö†Ô∏è Jen pro opravdu d≈Øle≈æit√© projekty.");
                    }
                    if (data.green.includes(isoDate)) {
                        cell.classList.add("booked");
                        addDot(cell, "green", "‚ÑπÔ∏è lze domluvit, ale slo≈æitƒõj≈°√≠ a del≈°√≠.");
                    }
                    grid.appendChild(cell);
                }
                calendar.appendChild(grid);
            }
            const now = new Date();
            generateCalendar(now.getMonth(), now.getFullYear());
        </script>
        <section id="pro-calculator-container" class="calculator-container scroll-animate">
            <button id="toggle-calculator" class="toggle-btn" onclick="toggleCalculator()">Zobrazit kalkul√°tor ceny</button>
            <div id="pro-calculator-content" style="display: none;">
                <section id="pro-calculator" class="calculator-section">
                    <h2>üí∞ Orientaƒçn√≠ kalkul√°tor ceny</h2>
                    <p class="warning">POZOR: Toto je pouze ORIENTAƒåN√ç odhad! Fin√°ln√≠ cena bude stanovena po osobn√≠ konzultaci.</p>
                    <p>Vyber √∫rove≈à detailu pro v√°≈° projekt.</p>
                    <div class="calc-modes">
                        <button class="mode-btn active" data-mode="simple"><i class="fas fa-bolt"></i> Simple</button>
                        <button class="mode-btn" data-mode="pro"><i class="fas fa-video"></i> Pro</button>
                        <button class="mode-btn" data-mode="advanced"><i class="fas fa-rocket"></i> Advanced</button>
                    </div>
                    <form id="calc-simple" class="calc-form active" aria-hidden="false">
                        <div class="calc-group">
                            <label><i class="fas fa-clock"></i> Poƒçet hodin nat√°ƒçen√≠</label>
                            <input type="number" id="simple-hours" min="0.5" step="0.5" value="2">
                            <p class="note">Z√°klad: 2000 Kƒç za 4h, +500 Kƒç za ka≈ædou dal≈°√≠ hodinu.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-film"></i> D√©lka fin√°ln√≠ho videa (minuty)</label>
                            <input type="number" id="simple-length-min" min="0.5" step="0.5" value="2">
                            <p class="note">Z√°kladn√≠ st≈ôih: 750 Kƒç za minutu.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-tools"></i> Komplexita st≈ôihu</label>
                            <select id="simple-complexity">
                                <option value="basic">Z√°kladn√≠</option>
                                <option value="standard">Standardn√≠</option>
                                <option value="super">Super</option>
                            </select>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-camera"></i> Poƒçet kamer</label>
                            <input type="number" id="simple-cameras" min="1" max="2" value="1">
                            <p class="note">Druh√° kamera p≈ôid√°v√° n√°klady na nat√°ƒçen√≠ a st≈ôih.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-edit"></i> Extra revize (1 v cenƒõ)</label>
                            <input type="number" id="simple-revisions" min="0" value="0">
                            <p class="note">Dal≈°√≠ revize: 5-15% ze st≈ôihov√© ceny podle komplexity.</p>
                        </div>
                    </form>
                    <form id="calc-pro" class="calc-form" aria-hidden="true">
                        <div class="calc-group">
                            <label><i class="fas fa-clock"></i> Poƒçet hodin nat√°ƒçen√≠</label>
                            <input type="number" id="pro-hours" min="0.5" step="0.5" value="3">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-film"></i> D√©lka fin√°ln√≠ho videa (minuty)</label>
                            <input type="number" id="pro-length-min" min="0.5" step="0.5" value="3">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-tools"></i> Komplexita st≈ôihu</label>
                            <select id="pro-complexity">
                                <option value="basic">Z√°kladn√≠</option>
                                <option value="standard">Standardn√≠</option>
                                <option value="super">Super</option>
                            </select>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-camera"></i> Poƒçet kamer</label>
                            <input type="number" id="pro-cameras" min="1" max="2" value="1">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-edit"></i> Extra revize</label>
                            <input type="number" id="pro-revisions" min="0" value="0">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-microphone"></i> Lavalier mikrofony</label>
                            <label><input type="checkbox" id="pro-lav-on"> Pou≈æ√≠t</label>
                            <input type="number" id="pro-lav-count" min="1" max="4" value="1" disabled>
                            <p class="note">100 Kƒç/h za mikrofon.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-microphone-alt"></i> Boom mikrofon</label>
                            <label><input type="checkbox" id="pro-boom-on"> Pou≈æ√≠t</label>
                            <p class="note">200 Kƒç/h.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-headset"></i> Zvuka≈ô/mix√©r</label>
                            <label><input type="checkbox" id="pro-mixer-on"> Pou≈æ√≠t</label>
                            <p class="note">300 Kƒç/h.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-drone"></i> Dron</label>
                            <label><input type="checkbox" id="pro-drone-on"> Pou≈æ√≠t</label>
                            <input type="number" id="pro-drone-hours" min="0.5" step="0.5" value="1" disabled>
                            <p class="note">600 Kƒç/h.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-lightbulb"></i> Osvƒõtlen√≠</label>
                            <select id="pro-lighting-tier">
                                <option value="none">≈Ω√°dn√©</option>
                                <option value="basic">Z√°kladn√≠</option>
                                <option value="pro">Pro</option>
                                <option value="premium">Premium</option>
                            </select>
                            <input type="number" id="pro-lighting-scenes" min="1" max="20" value="1" disabled>
                            <p class="note">500-2000 Kƒç + 300 Kƒç za extra sc√©nu.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-palette"></i> Grafika</label>
                            <select id="pro-graphics">
                                <option value="none">≈Ω√°dn√°</option>
                                <option value="simple">Jednoduch√°</option>
                                <option value="complex">Komplexn√≠</option>
                            </select>
                            <p class="note">500-1200 Kƒç.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-adjust"></i> Color grading</label>
                            <select id="pro-color-grading">
                                <option value="none">≈Ω√°dn√Ω</option>
                                <option value="basic">Z√°kladn√≠</option>
                                <option value="advanced">Pokroƒçil√Ω</option>
                            </select>
                            <p class="note">100-300 Kƒç/min.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-share-alt"></i> Form√°ty exportu</label>
                            <label><input type="checkbox" class="pro-export" value="200"> 16:9</label><br>
                            <label><input type="checkbox" class="pro-export" value="200"> 9:16</label><br>
                            <label><input type="checkbox" class="pro-export" value="200"> 1:1</label><br>
                            <label><input type="checkbox" class="pro-export" value="200"> Stories</label><br>
                            <label><input type="checkbox" class="pro-export" value="200"> Reels</label>
                            <p class="note">200 Kƒç za form√°t.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-file-export"></i> Extra exporty</label>
                            <input type="number" id="pro-extra-exports" min="0" value="0">
                            <p class="note">200 Kƒç/export.</p>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-shipping-fast"></i> Expresn√≠ dod√°n√≠ (48h)</label>
                            <label><input type="checkbox" id="pro-express"> Ano</label>
                            <p class="note">+30% k celkov√© cenƒõ.</p>
                        </div>
                    </form>
                    <form id="calc-advanced" class="calc-form" aria-hidden="true">
                        <div class="calc-group">
                            <label><i class="fas fa-clock"></i> Poƒçet hodin nat√°ƒçen√≠</label>
                            <input type="number" id="adv-hours" min="0.5" step="0.5" value="4">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-film"></i> D√©lka fin√°ln√≠ho videa (minuty)</label>
                            <input type="number" id="adv-length-min" min="0.5" step="0.5" value="5">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-tools"></i> Komplexita st≈ôihu</label>
                            <select id="adv-complexity">
                                <option value="basic">Z√°kladn√≠</option>
                                <option value="standard">Standardn√≠</option>
                                <option value="super">Super</option>
                            </select>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-camera"></i> Poƒçet kamer</label>
                            <input type="number" id="adv-cameras" min="1" max="2" value="1">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-edit"></i> Extra revize</label>
                            <input type="number" id="adv-revisions" min="0" value="0">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-microphone"></i> Lavalier mikrofony</label>
                            <label><input type="checkbox" id="adv-lav-on"> Pou≈æ√≠t</label>
                            <input type="number" id="adv-lav-count" min="1" max="4" value="1" disabled>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-microphone-alt"></i> Boom mikrofon</label>
                            <label><input type="checkbox" id="adv-boom-on"> Pou≈æ√≠t</label>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-headset"></i> Zvuka≈ô/mix√©r</label>
                            <label><input type="checkbox" id="adv-mixer-on"> Pou≈æ√≠t</label>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-drone"></i> Dron</label>
                            <label><input type="checkbox" id="adv-drone-on"> Pou≈æ√≠t</label>
                            <input type="number" id="adv-drone-hours" min="0.5" step="0.5" value="1" disabled>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-lightbulb"></i> Osvƒõtlen√≠</label>
                            <select id="adv-lighting-tier">
                                <option value="none">≈Ω√°dn√©</option>
                                <option value="basic">Z√°kladn√≠</option>
                                <option value="pro">Pro</option>
                                <option value="premium">Premium</option>
                            </select>
                            <input type="number" id="adv-lighting-scenes" min="1" max="20" value="1" disabled>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-palette"></i> Grafika</label>
                            <select id="adv-graphics">
                                <option value="none">≈Ω√°dn√°</option>
                                <option value="simple">Jednoduch√°</option>
                                <option value="complex">Komplexn√≠</option>
                            </select>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-adjust"></i> Color grading</label>
                            <select id="adv-color-grading">
                                <option value="none">≈Ω√°dn√Ω</option>
                                <option value="basic">Z√°kladn√≠</option>
                                <option value="advanced">Pokroƒçil√Ω</option>
                            </select>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-share-alt"></i> Form√°ty exportu</label>
                            <label><input type="checkbox" class="adv-export" value="200"> 16:9</label><br>
                            <label><input type="checkbox" class="adv-export" value="200"> 9:16</label><br>
                            <label><input type="checkbox" class="adv-export" value="200"> 1:1</label><br>
                            <label><input type="checkbox" class="adv-export" value="200"> Stories</label><br>
                            <label><input type="checkbox" class="adv-export" value="200"> Reels</label>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-file-export"></i> Extra exporty</label>
                            <input type="number" id="adv-extra-exports" min="0" value="0">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-car"></i> Cestovn√≠ n√°klady (Kƒç)</label>
                            <input type="number" id="adv-travel" min="0" value="0">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-music"></i> Licence na hudbu (Kƒç)</label>
                            <input type="number" id="adv-music" min="0" value="0">
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-file-alt"></i> Popis projektu</label>
                            <textarea id="adv-notes" rows="4" placeholder="Zadejte detaily projektu..."></textarea>
                        </div>
                        <div class="calc-group">
                            <label><i class="fas fa-shipping-fast"></i> Expresn√≠ dod√°n√≠ (48h)</label>
                            <label><input type="checkbox" id="adv-express"> Ano</label>
                        </div>
                    </form>
                    <div class="calc-result">
                        <div id="receipt">
                            <h3>üíµ Celkov√° cena: <span id="calc-total">0</span> Kƒç</h3>
                            <ul id="calc-lines"></ul>
                            <p class="note">Ceny jsou orientaƒçn√≠ ‚Äì kontaktujte n√°s pro p≈ôesnou nab√≠dku.</p>
                            <a id="order-link" class="order-btn" href="order.html"><i class="fas fa-paper-plane"></i> Objednat</a>
                        </div>
                    </div>
                </section>
                <script>
                    function toggleCalculator() {
                        const content = document.getElementById('pro-calculator-content');
                        const button = document.getElementById('toggle-calculator');
                        if (content && button) {
                            content.style.display = content.style.display === 'none' ? 'block' : 'none';
                            button.textContent = content.style.display === 'none' ? 'Zobrazit kalkul√°tor ceny' : 'Skr√Ωt kalkul√°tor ceny';
                            ensureSectionVisibility();
                        } else {
                            console.error('Toggle elements missing: content or button');
                        }
                    }
                    function ensureSectionVisibility() {
                        const sections = document.querySelectorAll('main > section.scroll-animate');
                        sections.forEach(section => {
                            if (!section.classList.contains('visible')) {
                                section.classList.add('visible');
                            }
                        });
                    }
                    function setActiveMode(mode) {
                        try {
                            const modes = ['simple', 'pro', 'advanced'];
                            if (!modes.includes(mode)) {
                                console.error(`Invalid mode: ${mode}`);
                                return;
                            }
                            const modeButtons = document.querySelectorAll('.mode-btn');
                            const forms = document.querySelectorAll('.calc-form');
                            if (!modeButtons.length || !forms.length) {
                                console.error('Mode buttons or forms not found');
                                return;
                            }
                            modeButtons.forEach(b => b.classList.toggle('active', b.dataset.mode === mode));
                            forms.forEach(f => {
                                const isActive = f.id === `calc-${mode}`;
                                f.classList.toggle('active', isActive);
                                f.setAttribute('aria-hidden', !isActive);
                            });
                            calculate();
                            ensureSectionVisibility();
                        } catch (error) {
                            console.error('Error in setActiveMode:', error);
                            document.querySelector('.mode-btn[data-mode="simple"]').classList.add('active');
                            document.getElementById('calc-simple').classList.add('active');
                            document.getElementById('calc-simple').setAttribute('aria-hidden', 'false');
                            ['pro', 'advanced'].forEach(m => {
                                const form = document.getElementById(`calc-${m}`);
                                if (form) {
                                    form.classList.remove('active');
                                    form.setAttribute('aria-hidden', 'true');
                                }
                            });
                            calculate();
                        }
                    }
                    function setupInputToggles() {
                        ['pro', 'advanced'].forEach(mode => {
                            const inputs = {
                                lavOn: document.getElementById(`${mode}-lav-on`),
                                lavCount: document.getElementById(`${mode}-lav-count`),
                                droneOn: document.getElementById(`${mode}-drone-on`),
                                droneHours: document.getElementById(`${mode}-drone-hours`),
                                lightingTier: document.getElementById(`${mode}-lighting-tier`),
                                lightingScenes: document.getElementById(`${mode}-lighting-scenes`),
                                boomOn: document.getElementById(`${mode}-boom-on`),
                                mixerOn: document.getElementById(`${mode}-mixer-on`),
                                express: document.getElementById(`${mode}-express`)
                            };
                            if (inputs.lavOn && inputs.lavCount) {
                                inputs.lavOn.addEventListener('change', () => {
                                    inputs.lavCount.disabled = !inputs.lavOn.checked;
                                    calculate();
                                });
                            }
                            if (inputs.droneOn && inputs.droneHours) {
                                inputs.droneOn.addEventListener('change', () => {
                                    inputs.droneHours.disabled = !inputs.droneOn.checked;
                                    calculate();
                                });
                            }
                            if (inputs.lightingTier && inputs.lightingScenes) {
                                inputs.lightingTier.addEventListener('change', () => {
                                    inputs.lightingScenes.disabled = inputs.lightingTier.value === 'none';
                                    calculate();
                                });
                            }
                            if (inputs.boomOn) inputs.boomOn.addEventListener('change', calculate);
                            if (inputs.mixerOn) inputs.mixerOn.addEventListener('change', calculate);
                            if (inputs.express) inputs.express.addEventListener('change', calculate);
                        });
                    }
                    function calculateShooting(hours, cameras) {
                        const base = 2000 + Math.max(0, (hours - 4)) * 500;
                        const mult = cameras === 2 ? 1.7 : 1.0;
                        return Math.ceil(base * mult);
                    }
                    function calculateEditing(minutes, complexity, cameras, shootingHours, mics) {
                        const complexMult = { basic: 1.0, standard: 1.25, super: 1.5 }[complexity] || 1.0;
                        const cameraMult = cameras === 2 ? 1.3 : 1.0;
                        const footageMult = 1.0 + 0.15 * Math.max(0, shootingHours - 4);
                        const base = 750 * minutes * complexMult * cameraMult * footageMult;
                        const audioExtra = 25 * mics * minutes;
                        return Math.ceil(base + audioExtra);
                    }
                    function calculateRevisions(editingCost, complexity, extraRevisions) {
                        const rate = { basic: 0.05, standard: 0.1, super: 0.15 }[complexity] || 0.05;
                        return Math.ceil(editingCost * rate * extraRevisions);
                    }
                    function calculateAudioEquipment(shootingHours, lavOn, lavCount, boomOn, mixerOn) {
                        const lavCost = lavOn ? 100 * lavCount * shootingHours : 0;
                        const boomCost = boomOn ? 200 * shootingHours : 0;
                        const mixerCost = mixerOn ? 300 * shootingHours : 0;
                        return Math.ceil(lavCost + boomCost + mixerCost);
                    }
                    function calculateDrone(droneOn, droneHours) {
                        return droneOn ? Math.ceil(600 * droneHours) : 0;
                    }
                    function calculateLighting(tier, scenes) {
                        if (tier === 'none') return 0;
                        const tierCost = { basic: 500, pro: 1200, premium: 2000 }[tier] || 0;
                        const extraScenes = Math.max(0, scenes - 1) * 300;
                        return Math.ceil(tierCost + extraScenes);
                    }
                    function calculateGraphics(graphics) {
                        return { none: 0, simple: 500, complex: 1200 }[graphics] || 0;
                    }
                    function calculateColorGrading(grading, minutes) {
                        if (grading === 'none') return 0;
                        const perMin = { basic: 100, advanced: 300 }[grading] || 0;
                        return Math.ceil(perMin * minutes);
                    }
                    function calculateExports(extraExports, socialFormats) {
                        return Math.ceil(200 * (extraExports + socialFormats));
                    }
                    function calculate() {
                        try {
                            let total = 0;
                            const lines = [];
                            const activeModeBtn = document.querySelector('.mode-btn.active');
                            if (!activeModeBtn) {
                                console.error('No active mode button found');
                                return;
                            }
                            const mode = activeModeBtn.dataset.mode;
                            const form = document.getElementById(`calc-${mode}`);
                            if (!form) {
                                console.error(`Form calc-${mode} not found`);
                                return;
                            }
                            const inputs = {
                                hours: document.getElementById(`${mode}-hours`),
                                minutes: document.getElementById(`${mode}-length-min`),
                                complexity: document.getElementById(`${mode}-complexity`),
                                cameras: document.getElementById(`${mode}-cameras`),
                                revisions: document.getElementById(`${mode}-revisions`)
                            };
                            for (const [key, element] of Object.entries(inputs)) {
                                if (!element) {
                                    console.error(`Missing input: ${mode}-${key}`);
                                    return;
                                }
                            }
                            const hours = parseFloat(inputs.hours.value) || 0;
                            const minutes = parseFloat(inputs.minutes.value) || 0;
                            const complexity = inputs.complexity.value || 'basic';
                            const cameras = parseInt(inputs.cameras.value) || 1;
                            const extraRevisions = parseInt(inputs.revisions.value) || 0;
                            const shootingCost = calculateShooting(hours, cameras);
                            total += shootingCost;
                            lines.push(`Nat√°ƒçen√≠ (${hours} h, ${cameras} kamer): ${shootingCost} Kƒç`);
                            const mics = mode === 'simple' ? 0 : (
                                (document.getElementById(`${mode}-lav-on`)?.checked ? parseInt(document.getElementById(`${mode}-lav-count`)?.value || 0) : 0) +
                                (document.getElementById(`${mode}-boom-on`)?.checked ? 1 : 0)
                            );
                            const editingCost = calculateEditing(minutes, complexity, cameras, hours, mics);
                            total += editingCost;
                            lines.push(`St≈ôih (${minutes} min, ${complexity}): ${editingCost} Kƒç`);
                            const revisionsCost = calculateRevisions(editingCost, complexity, extraRevisions);
                            if (revisionsCost > 0) {
                                lines.push(`Extra revize (${extraRevisions}): ${revisionsCost} Kƒç`);
                            } else {
                                lines.push(`Revize: 1 v cenƒõ`);
                            }
                            total += revisionsCost;
                            if (mode !== 'simple') {
                                const lavOn = document.getElementById(`${mode}-lav-on`)?.checked || false;
                                const lavCount = parseInt(document.getElementById(`${mode}-lav-count`)?.value || 0);
                                const boomOn = document.getElementById(`${mode}-boom-on`)?.checked || false;
                                const mixerOn = document.getElementById(`${mode}-mixer-on`)?.checked || false;
                                const audioEquipCost = calculateAudioEquipment(hours, lavOn, lavCount, boomOn, mixerOn);
                                if (audioEquipCost > 0) {
                                    lines.push(`Audio vybaven√≠: ${audioEquipCost} Kƒç`);
                                }
                                total += audioEquipCost;
                                const droneOn = document.getElementById(`${mode}-drone-on`)?.checked || false;
                                const droneHours = parseFloat(document.getElementById(`${mode}-drone-hours`)?.value || 0);
                                const droneCost = calculateDrone(droneOn, droneHours);
                                if (droneCost > 0) {
                                    lines.push(`Dron (${droneHours} h): ${droneCost} Kƒç`);
                                }
                                total += droneCost;
                                const lightingTier = document.getElementById(`${mode}-lighting-tier`)?.value || 'none';
                                const lightingScenes = parseInt(document.getElementById(`${mode}-lighting-scenes`)?.value || 1);
                                const lightingCost = calculateLighting(lightingTier, lightingScenes);
                                if (lightingCost > 0) {
                                    lines.push(`Osvƒõtlen√≠ (${lightingTier}): ${lightingCost} Kƒç`);
                                }
                                total += lightingCost;
                                const graphics = document.getElementById(`${mode}-graphics`)?.value || 'none';
                                const graphicsCost = calculateGraphics(graphics);
                                if (graphicsCost > 0) {
                                    lines.push(`Grafika (${graphics}): ${graphicsCost} Kƒç`);
                                }
                                total += graphicsCost;
                                const colorGrading = document.getElementById(`${mode}-color-grading`)?.value || 'none';
                                const gradingCost = calculateColorGrading(colorGrading, minutes);
                                if (gradingCost > 0) {
                                    lines.push(`Color grading (${colorGrading}): ${gradingCost} Kƒç`);
                                }
                                total += gradingCost;
                                const socialFormats = document.querySelectorAll(`#calc-${mode} .${mode}-export:checked`)?.length || 0;
                                const extraExports = parseInt(document.getElementById(`${mode}-extra-exports`)?.value || 0);
                                const exportsCost = calculateExports(extraExports, socialFormats);
                                if (exportsCost > 0) {
                                    lines.push(`Exporty (${socialFormats + extraExports}): ${exportsCost} Kƒç`);
                                }
                                total += exportsCost;
                                const express = document.getElementById(`${mode}-express`)?.checked || false;
                                if (express) {
                                    const expressFee = Math.ceil(total * 0.3);
                                    total += expressFee;
                                    lines.push(`Expresn√≠ dod√°n√≠: ${expressFee} Kƒç`);
                                }
                            }
                            if (mode === 'advanced') {
                                const travel = parseInt(document.getElementById('adv-travel')?.value || 0);
                                if (travel > 0) {
                                    lines.push(`Cestovn√≠ n√°klady: ${travel} Kƒç`);
                                    total += travel;
                                }
                                const music = parseInt(document.getElementById('adv-music')?.value || 0);
                                if (music > 0) {
                                    lines.push(`Hudba: ${music} Kƒç`);
                                    total += music;
                                }
                                const notes = document.getElementById('adv-notes')?.value.trim();
                                if (notes) {
                                    lines.push(`Pozn√°mky: ${notes}`);
                                }
                            }
                            const totalElement = document.getElementById('calc-total');
                            const listElement = document.getElementById('calc-lines');
                            if (totalElement && listElement) {
                                totalElement.textContent = total.toLocaleString('cs-CZ');
                                listElement.innerHTML = '';
                                if (lines.length === 0) lines.push('Nic nevybr√°no');
                                lines.forEach(l => {
                                    const li = document.createElement('li');
                                    li.textContent = l;
                                    listElement.appendChild(li);
                                });
                            } else {
                                console.error('Result elements missing: calc-total or calc-lines');
                            }
                        } catch (error) {
                            console.error('Error in calculate:', error);
                        }
                    }
                    document.addEventListener('DOMContentLoaded', () => {
                        try {
                            const modeButtons = document.querySelectorAll('.mode-btn');
                            if (modeButtons.length === 0) {
                                console.error('No mode buttons found');
                                return;
                            }
                            modeButtons.forEach(b => b.addEventListener('click', () => setActiveMode(b.dataset.mode)));
                            const inputs = document.querySelectorAll('#pro-calculator input, #pro-calculator select, #pro-calculator textarea');
                            if (inputs.length === 0) {
                                console.error('No input elements found in #pro-calculator');
                                return;
                            }
                            inputs.forEach(el => el.addEventListener('input', calculate));
                            setupInputToggles();
                            calculate();
                            ensureSectionVisibility();
                        } catch (error) {
                            console.error('Error in DOMContentLoaded:', error);
                        }
                    });
                </script>
            </div>
        </section>
        <section class="why-me-section scroll-animate">
            <h2>üí° Proƒç pracovat se mnou?</h2>
            <p>Nejsem jen ‚Äúkameraman‚Äù ‚Äì jsem partner pro v√°≈° projekt. Ka≈æd√Ω krok konzultuji s klientem, aby v√Ωsledek p≈ôesnƒõ odpov√≠dal va≈°√≠ p≈ôedstavƒõ.</p>
            <ul>
                <li>Osobn√≠ p≈ô√≠stup</li>
                <li>Flexibilita a rychl√° komunikace</li>
                <li>Kvalitn√≠ technika a kreativn√≠ zpracov√°n√≠</li>
                <li>F√©rov√© ceny a spolehlivost</li>
            </ul>
        </section>
        <section class="timeline-section scroll-animate">
            <h2>üé¨ Jak prob√≠h√° spolupr√°ce</h2>
            <div class="timeline">
                <div class="timeline-step">
                    <span>1Ô∏è‚É£</span>
                    <h3>Konzultace & pl√°nov√°n√≠</h3>
                    <p>Kr√°tk√Ω online/telefonick√Ω hovor, kde si ≈ôekneme va≈°e c√≠le, styl a lokaci.</p>
                    <p><strong>‚è±Ô∏è cca 30‚Äì60 minut</strong></p>
                </div>
                <div class="timeline-step">
                    <span>2Ô∏è‚É£</span>
                    <h3>Nat√°ƒçen√≠</h3>
                    <p>Na m√≠stƒõ zaji≈°≈•uji kameru, zvuk a svƒõtla. Podle pot≈ôeby i fotografie nebo dron.</p>
                    <p><strong>‚è±Ô∏è 2‚Äì6 hodin (dle projektu)</strong></p>
                </div>
                <div class="timeline-step">
                    <span>3Ô∏è‚É£</span>
                    <h3>St≈ôih & postprodukce</h3>
                    <p>V√Ωbƒõr z√°bƒõr≈Ø, st≈ôih, barvy, hudba, titulky. Mo≈ænost reviz√≠ dle va≈°√≠ zpƒõtn√© vazby.</p>
                    <p><strong>‚è±Ô∏è 2‚Äì5 dn≈Ø</strong></p>
                </div>
                <div class="timeline-step">
                    <span>4Ô∏è‚É£</span>
                    <h3>Dod√°n√≠ videa</h3>
                    <p>Export do form√°t≈Ø vhodn√Ωch pro soci√°ln√≠ s√≠tƒõ, web i prezentace.</p>
                    <p><strong>‚è±Ô∏è okam≈æitƒõ po schv√°len√≠</strong></p>
                </div>
            </div>
        </section>
        <section class="faq-section scroll-animate">
            <h2>‚ùì Nejƒçastƒõj≈°√≠ dotazy</h2>
            <div class="faq-item">
                <button class="faq-question">Jak dlouho trv√° dod√°n√≠ videa?</button>
                <div class="faq-answer"><p>Bƒõ≈ænƒõ 4‚Äì8 dn√≠ od nat√°ƒçen√≠, ale v√°≈ænƒõ z√°le≈æ√≠ na rozsahu projektu.</p></div>
            </div>
            <div class="faq-item">
                <button class="faq-question">Kolik m√°m n√°rok na revize?</button>
                <div class="faq-answer"><p>V cenƒõ jsou 1 kolo √∫prav, pot√© dle dohody.</p></div>
            </div>
            <div class="faq-item">
                <button class="faq-question">M≈Ø≈æu dodat vlastn√≠ z√°bƒõry?</button>
                <div class="faq-answer"><p>Ano, r√°d je zakomponuji do fin√°ln√≠ho st≈ôihu. Ale jen po domluvƒõ</p></div>
            </div>
            <div class="faq-item">
                <button class="faq-question">Co kdy≈æ pot≈ôebuji expresn√≠ dod√°n√≠?</button>
                <div class="faq-answer"><p>Expresn√≠ slu≈æba je mo≈æn√° ‚Äì z√°le≈æ√≠ na kapacitƒõ a velikosti, domluv√≠me se individu√°lnƒõ.</p></div>
            </div>
        </section>
        <script>
            document.querySelectorAll(".faq-question").forEach(btn => {
                btn.addEventListener("click", () => {
                    btn.parentElement.classList.toggle("active");
                });
            });
        </script>
    </main>
    <footer>
        <div class="footer-content scroll-animate">
            <p>M√°te ot√°zky nebo z√°jem o spolupr√°ci?</p>
            <a href="mailto:mlx.studio2222@gmail.com" class="footer-link">
                <i class="fas fa-envelope"></i> mlx.studio2222@gmail.com
            </a>
            <div class="footer-buttons">
                <a href="order.html" class="order-btn">
                    <i class="fas fa-calendar-plus"></i> Objednat slu≈æbu
                </a>
                <a href="https://www.youtube.com/@MLX-Media" class="youtube-btn" target="_blank">
                    <i class="fab fa-youtube"></i> YouTube kan√°l
                </a>
            </div>
        </div>
    </footer>
    <script>
        const nav = document.getElementById('mainNav');
        window.addEventListener('scroll', () => {
            nav.classList.toggle('scrolled', window.scrollY > 10);
        });
    </script>
    <button id="chat-toggle">
        <i class="fas fa-comments"></i>
    </button>
    <div id="botpress-container">
        <div id="mobile-header">
            <span>MLX Chat Bot</span>
            <button id="mobile-close"><i class="fas fa-times"></i></button>
        </div>
        <div class="chat-info">
            AI je urƒçeno na shrnut√≠ a pomoc,
            <button id="info-toggle">V√≠ce info</button>
        </div>
        <div class="chat-details" id="chat-details">
            <p>1. AI nem≈Ø≈æe objedn√°vat, ale m≈Ø≈æe pomoci s procesem.</p>
            <p>2. AI je urƒçeno v√°m pomoci se vyznat a shrnout informace na str√°nce, ale m≈Ø≈æe se m√Ωlit ‚Äì proto doporuƒçujeme si v≈°echny informace d√°le ovƒõ≈ôovat.</p>
            <p>3. AI nem≈Ø≈æe d√°vat p≈ôesn√© ceny, pouze orientaƒçn√≠. Pro p≈ôesn√© ceny n√°m zavolejte a domluv√≠me se.</p>
        </div>
        <div id="chat-container">
            <div id="chat-log"></div>
            <input id="chat-input" placeholder="Zeptejte se na cokoliv..." />
        </div>
    </div>

    <script>document.addEventListener("DOMContentLoaded", () => {
    // Inicializace mapy
    var map = L.map('map').setView([50.0, 14.2], 11); // Zamƒõ≈ôeno na Prahu a okol√≠

    // P≈ôid√°n√≠ CartoDB Positron vrstvy pro ƒçist≈°√≠ vzhled
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors & <a href="https://carto.com/attributions">CARTO</a>',
        maxZoom: 19
    }).addTo(map);

    // Kruhy pro lokace
    L.circle([49.9638, 14.0720], { // Beroun
        color: '#00BFA6',
        fillColor: 'orange',
        fillOpacity: 0.3,
        radius: 5000,
        className: 'leaflet-circle'
    }).addTo(map).bindPopup('Beroun ‚Äì ide√°ln√≠ dosah');

    L.circle([50.0685, 14.3900], { // Praha 5
        color: '#00BFA6',
        fillColor: 'orange',
        fillOpacity: 0.3,
        radius: 5000,
        className: 'leaflet-circle'
    }).addTo(map).bindPopup('Praha 5 ‚Äì ide√°ln√≠ dosah');

    L.circle([50.0940, 14.3920], { // Praha 6
        color: '#00BFA6',
        fillColor: 'orange',
        fillOpacity: 0.3,
        radius: 5000,
        className: 'leaflet-circle'
    }).addTo(map).bindPopup('Praha 6 ‚Äì ide√°ln√≠ dosah');
});</script>
    <script src="mlx_highlight.js"></script>
    <script src="ChatBotKnowledge.js"></script>
    <script src="ChatBot.js" defer></script>
</body>
</html>
